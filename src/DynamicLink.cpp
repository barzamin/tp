/* DynamicLink.cpp autogenerated by split.py v0.3 at 2021-01-22 22:42:24.785146 */

#include "global.h"
#include "DynamicLink/DynamicLink.h"
#include "m_Do/m_Do_ext/m_Do_ext.h"

DynamicModuleControlBase::~DynamicModuleControlBase(void) {
    this->force_unlink();

    DynamicModuleControlBase* prev = this->mPrev;
    if (prev != NULL) {
        prev->mNext = this->mNext;
    }

    DynamicModuleControlBase* next = this->mNext;
    if (next != NULL) {
        next->mPrev = this->mPrev;
    }

    if (/* mFirst */ lbl_80451138 == this) {
        lbl_80451138 = this->mNext;
    }

    if (/* mLast */ lbl_8045113C == this) {
        lbl_8045113C = this->mPrev;
    }

    this->mNext = NULL;
    this->mPrev = NULL;
}

DynamicModuleControlBase::DynamicModuleControlBase() {
    mLinkCount = 0;
    field_0x2 = 0;
    mNext = NULL;

    if (/* mFirst */ lbl_80451138 == NULL) {
        lbl_80451138 = this;
    }

    mPrev = /* mLast */ lbl_8045113C;

    DynamicModuleControlBase* prev = mPrev;
    if (prev != NULL) {
        prev->mNext = this;
    }

    /* mLast */ lbl_8045113C = this;
}

extern "C" {
    void __ct__24DynamicModuleControlBaseFv(void);
    void __dt__24DynamicModuleControlBaseFv(void);
};

asm bool DynamicModuleControlBase::link() {
    nofralloc
    #include "DynamicLink/asm/func_802622D0.s"
}

asm int DynamicModuleControlBase::unlink() {
    nofralloc
    #include "DynamicLink/asm/func_80262364.s"
}

asm int DynamicModuleControlBase::load_async() {
    nofralloc
    #include "DynamicLink/asm/func_802623EC.s"
}

asm int DynamicModuleControlBase::force_unlink() {
    nofralloc
    #include "DynamicLink/asm/func_8026242C.s"
}

asm void DynamicModuleControlBase::dump(void) {
    nofralloc
    #include "DynamicLink/asm/func_80262470.s"
}

extern "C" {
// __ct__20DynamicModuleControlFPCc
// DynamicModuleControl::DynamicModuleControl(const char*)
asm void DynamicModuleControl(void) {
    nofralloc
    #include "DynamicLink/asm/func_80262660.s"
}

// mountCallback__20DynamicModuleControlFPv
// DynamicModuleControl::mountCallback(void*)
asm void DynamicModuleControl_NS_mountCallback(void) {
    nofralloc
    #include "DynamicLink/asm/func_802626D0.s"
}

// initialize__20DynamicModuleControlFv
// DynamicModuleControl::initialize(void)
asm void DynamicModuleControl_NS_initialize(void) {
    nofralloc
    #include "DynamicLink/asm/func_8026275C.s"
}

// callback__20DynamicModuleControlFPv
// DynamicModuleControl::callback(void*)
asm void DynamicModuleControl_NS_callback(void) {
    nofralloc
    #include "DynamicLink/asm/func_80262794.s"
}

};

/**
 * Calculates the sum of a #u16 buffer of length \p len
 */
u32 calcSum2(const u16* data, u32 len) {
    u32 accumulator = 0;

    while (len != 0) {
        accumulator += *data;
        len -= 2;
        data++;
    }

    return accumulator;
}

extern "C" {
    void calcSum2__FPCUsUl(void);
}

extern "C" {

// do_load__20DynamicModuleControlFv
// DynamicModuleControl::do_load(void)
asm void func_802627E8(void) {
    nofralloc
    #include "DynamicLink/asm/func_802627E8.s"
}

// do_load_async__20DynamicModuleControlFv
// DynamicModuleControl::do_load_async(void)
asm void func_80262AFC(void) {
    nofralloc
    #include "DynamicLink/asm/func_80262AFC.s"
}

// do_unload__20DynamicModuleControlFv
// DynamicModuleControl::do_unload(void)
asm void func_80262BC4(void) {
    nofralloc
    #include "DynamicLink/asm/func_80262BC4.s"
}

// dump2__20DynamicModuleControlFv
// DynamicModuleControl::dump2(void)
asm void func_80262C0C(void) {
    nofralloc
    #include "DynamicLink/asm/func_80262C0C.s"
}

// do_link__20DynamicModuleControlFv
// DynamicModuleControl::do_link(void)
asm void func_80262C5C(void) {
    nofralloc
    #include "DynamicLink/asm/func_80262C5C.s"
}

// do_unlink__20DynamicModuleControlFv
// DynamicModuleControl::do_unlink(void)
asm void func_80262F28(void) {
    nofralloc
    #include "DynamicLink/asm/func_80262F28.s"
}

// getModuleSize__20DynamicModuleControlCFv
// DynamicModuleControl::getModuleSize(void) const
asm void func_80263000(void) {
    nofralloc
    #include "DynamicLink/asm/func_80263000.s"
}

// getModuleTypeString__20DynamicModuleControlCFv
// DynamicModuleControl::getModuleTypeString(void) const
asm void func_80263070(void) {
    nofralloc
    #include "DynamicLink/asm/func_80263070.s"
}

void ModuleProlog() {
    return;
}

void ModuleEpilog(void) {
    return;
}

asm void ModuleUnresolved(void) {
    nofralloc
    #include "DynamicLink/asm/func_80263090.s"
}

typedef void (*ModuleCtor)();
void ModuleConstructorsX(ModuleCtor* ctors) {
    JUT_ASSERT(ctors != NULL);

    while (*ctors != NULL) {
        (*ctors)();
        ctors++;
    }
}

typedef void (*ModuleDtor)();
void ModuleDestructorsX(ModuleDtor* dtors) {
    JUT_ASSERT(dtors != NULL);

    while (*dtors != NULL) {
        (*dtors)();
        dtors++;
    }
}
};


int DynamicModuleControlBase::do_link() {
    return 1;
}

int DynamicModuleControlBase::do_load() {
    return 1;
}

int DynamicModuleControlBase::do_unload() {
    return 1;
}

int DynamicModuleControlBase::do_unlink() {
    return 1;
}

int DynamicModuleControlBase::do_load_async() {
    return 1;
}

void DynamicModuleControlBase::dump2() {
    return;
}

// getModuleTypeString__24DynamicModuleControlBaseCFv
// DynamicModuleControlBase::getModuleTypeString(void) const
asm char* DynamicModuleControlBase::getModuleTypeString() const {
    // kinda need string placement for this one tbh
    // or at least some rodata fixes
    nofralloc
    #include "DynamicLink/asm/func_80263200.s"
}

// getModuleSize__24DynamicModuleControlBaseCFv
// DynamicModuleControlBase::getModuleSize(void) const
u32 DynamicModuleControlBase::getModuleSize() const {
    return 0;
}


extern "C" {
// getModuleName__20DynamicModuleControlCFv
// DynamicModuleControl::getModuleName(void) const
asm void func_80263218(void) {
    nofralloc
    #include "DynamicLink/asm/func_80263218.s"
}

};
